source $HOME/.zshtools/bin/antigen.zsh

# For things that are very specific to the current machine. Like docker IP
if [ -f $HOME/.zshrc.local ]; then
  source $HOME/.zshrc.local
fi

# Load various lib files
antigen use oh-my-zsh

#
# Antigen Theme
#
POWERLEVEL9K_PROMPT_ON_NEWLINE=true
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(os_icon aws anaconda node_version go_version dir vcs)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status history time public_ip)
antigen theme https://github.com/bhilburn/powerlevel9k powerlevel9k

#
# Antigen Bundles
#
antigen bundle git
antigen bundle git-extras
antigen bundle ssh-agent

antigen bundle zsh-users/zsh-autosuggestions
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-history-substring-search

antigen bundle devinsba/dotfiles
local os_antigen="$ADOTDIR/bundles/devinsba/dotfiles/antigen.`uname`.zsh"
[ -f $os_antigen ] && source $os_antigen

antigen bundle ssh://git@bitbucket.org/devinsba/dotfiles-secret

if (($+WORK_REPO)) ; then
  antigen bundle $WORK_REPO
fi

antigen apply

execute_postinits
